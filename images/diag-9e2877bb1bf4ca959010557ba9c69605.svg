<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1012px" preserveAspectRatio="none" style="width:1258px;height:1012px;" version="1.1" viewBox="0 0 1258 1012" width="1258px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wyqowy6yoxeo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFE0" height="997.25" style="stroke: #A80036; stroke-width: 1.0;" width="516.5" x="332" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="568.25" y="16.0669">Gitlab</text><rect fill="#ADD8E6" height="997.25" style="stroke: #A80036; stroke-width: 1.0;" width="82" x="1081" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="1086.5" y="16.0669">Ucascade</text><rect fill="#FFFFFF" filter="url(#f1wyqowy6yoxeo)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="451.5" x="717.5" y="395.8906"/><rect fill="#FFFFFF" filter="url(#f1wyqowy6yoxeo)" height="117.5313" style="stroke: #000000; stroke-width: 2.0;" width="529.5" x="717.5" y="456.1563"/><rect fill="#FFFFFF" filter="url(#f1wyqowy6yoxeo)" height="310.2656" style="stroke: #000000; stroke-width: 2.0;" width="1166" x="13" y="587.6875"/><rect fill="#FFC0CB" height="177.6016" style="stroke: none; stroke-width: 1.0;" width="1166" x="13" y="720.3516"/><rect fill="#FFFFFF" filter="url(#f1wyqowy6yoxeo)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="451.5" x="717.5" y="742.1563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="46" x2="46" y1="86.2969" y2="914.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="368" x2="368" y1="86.2969" y2="914.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="518" x2="518" y1="86.2969" y2="914.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="658.5" x2="658.5" y1="86.2969" y2="914.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="785.5" x2="785.5" y1="86.2969" y2="914.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1122" x2="1122" y1="86.2969" y2="914.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="23" y="82.9951">UserA</text><ellipse cx="46.5" cy="13" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M46.5,21 L46.5,48 M33.5,29 L59.5,29 M46.5,48 L33.5,63 M46.5,48 L59.5,63 " fill="none" filter="url(#f1wyqowy6yoxeo)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="23" y="926.9482">UserA</text><ellipse cx="46.5" cy="940.25" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M46.5,948.25 L46.5,975.25 M33.5,956.25 L59.5,956.25 M46.5,975.25 L33.5,990.25 M46.5,975.25 L59.5,990.25 " fill="none" filter="url(#f1wyqowy6yoxeo)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="336" y="82.9951">Gitlab_UI</text><path d="M348,42 L348,66 M348,54 L365,54 " fill="none" filter="url(#f1wyqowy6yoxeo)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="377" cy="54" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="336" y="926.9482">Gitlab_UI</text><path d="M348,934.25 L348,958.25 M348,946.25 L365,946.25 " fill="none" filter="url(#f1wyqowy6yoxeo)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="377" cy="946.25" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="462" y="82.9951">Gitlab_Backend</text><ellipse cx="518.5" cy="54" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="506.5" x2="530.5" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="462" y="926.9482">Gitlab_Backend</text><ellipse cx="518.5" cy="946.25" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="506.5" x2="530.5" y1="960.25" y2="960.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="599.5" y="82.9951">Gitlab_Webhook</text><ellipse cx="658.5" cy="54" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="654.5,42,660.5,37,658.5,42,660.5,47,654.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="599.5" y="926.9482">Gitlab_Webhook</text><ellipse cx="658.5" cy="946.25" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="654.5,934.25,660.5,929.25,658.5,934.25,660.5,939.25,654.5,934.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="727.5" y="82.9951">Gitlab_REST_API</text><ellipse cx="786" cy="54" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="782,42,788,37,786,42,788,47,782,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="727.5" y="926.9482">Gitlab_REST_API</text><ellipse cx="786" cy="946.25" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="782,934.25,788,929.25,786,934.25,788,939.25,782,934.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1085" y="82.9951">Ucascade</text><ellipse cx="1122" cy="54" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1110" x2="1134" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1085" y="926.9482">Ucascade</text><ellipse cx="1122" cy="946.25" fill="#FEFECE" filter="url(#f1wyqowy6yoxeo)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1110" x2="1134" y1="960.25" y2="960.25"/><polygon fill="#A80036" points="356.5,128.5625,366.5,132.5625,356.5,136.5625,360.5,132.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="46.5" x2="362.5" y1="132.5625" y2="132.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="53.5" y="119.9302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="66.5" y="112.3638">Merge #MR1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="70.5" y="127.4966">E.g., feature/1.3.x/my_feature -&gt; main/1.3.x</text><polygon fill="#A80036" points="57.5,157.6953,47.5,161.6953,57.5,165.6953,53.5,161.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="51.5" x2="367.5" y1="161.6953" y2="161.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="63.5" y="156.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="76.5" y="156.6294">Ok</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="518.5" x2="560.5" y1="190.8281" y2="190.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="560.5" x2="560.5" y1="190.8281" y2="203.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="519.5" x2="560.5" y1="203.8281" y2="203.8281"/><polygon fill="#A80036" points="529.5,199.8281,519.5,203.8281,529.5,207.8281,525.5,203.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="525.5" y="185.7622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="538.5" y="185.7622">Execute pipeline</text><polygon fill="#A80036" points="1110,244.0938,1120,248.0938,1110,252.0938,1114,248.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658.5" x2="1116" y1="248.0938" y2="248.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="665.5" y="235.4614">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="678.5" y="227.895">Fire MergeRequestEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="682.5" y="243.0278">with state "merged" and action "merge" for MR #1</text><polygon fill="#A80036" points="797,288.3594,787,292.3594,797,296.3594,793,292.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="292.3594" y2="292.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="803" y="279.7271">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="816" y="272.1606">Compare refs - nothing to do if no diff</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="820" y="287.2935">E.g., between commit e819d39 and develop</text><polygon fill="#A80036" points="797,332.625,787,336.625,797,340.625,793,336.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="336.625" y2="336.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="803" y="323.9927">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="816" y="316.4263">Create Branch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="820" y="331.5591">E.g., mr1_main/1.3.x from e819d39</text><polygon fill="#A80036" points="797,376.8906,787,380.8906,797,384.8906,793,380.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="380.8906" y2="380.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="803" y="368.2583">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="816" y="360.6919">Create MR #2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="820" y="375.8247">E.g., mr1_main/1.3.x -&gt; develop</text><path d="M717.5,395.8906 L781.5,395.8906 L781.5,402.8906 L771.5,412.8906 L717.5,412.8906 L717.5,395.8906 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="451.5" x="717.5" y="395.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="732.5" y="408.9575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="199" x="796.5" y="408.1011">[apiTokenApprover is set case]</text><polygon fill="#A80036" points="797,430.1563,787,434.1563,797,438.1563,793,434.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="434.1563" y2="434.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="803" y="429.0903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="816" y="429.0903">Approve MR #2</text><path d="M717.5,456.1563 L794.5,456.1563 L794.5,463.1563 L784.5,473.1563 L717.5,473.1563 L717.5,456.1563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="117.5313" style="stroke: #000000; stroke-width: 2.0;" width="529.5" x="717.5" y="456.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="732.5" y="469.2231">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155" x="809.5" y="468.3667">[20 times or until ready]</text><polygon fill="#A80036" points="797,490.4219,787,494.4219,797,498.4219,793,494.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="494.4219" y2="494.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="803" y="489.356">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="816" y="489.356">Check creation status of MR #2</text><polygon fill="#A80036" points="1110,519.5547,1120,523.5547,1110,527.5547,1114,523.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="786" x2="1116" y1="523.5547" y2="523.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="793" y="518.4888">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="815" y="518.4888">Ready / Not ready</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122" x2="1164" y1="552.6875" y2="552.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1164" x2="1164" y1="552.6875" y2="565.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1123" x2="1164" y1="565.6875" y2="565.6875"/><polygon fill="#A80036" points="1133,561.6875,1123,565.6875,1133,569.6875,1129,565.6875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1129" y="547.6216">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1151" y="547.6216">Sleep 100ms</text><path d="M13,587.6875 L77,587.6875 L77,594.6875 L67,604.6875 L13,604.6875 L13,587.6875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="310.2656" style="stroke: #000000; stroke-width: 2.0;" width="1166" x="13" y="587.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="600.7544">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="92" y="599.8979">[MR #2 can be merged case]</text><polygon fill="#A80036" points="797,621.9531,787,625.9531,797,629.9531,793,625.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="625.9531" y2="625.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="803" y="620.8872">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="825" y="620.8872">Accept MR #2</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="518.5" x2="560.5" y1="655.0859" y2="655.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="560.5" x2="560.5" y1="655.0859" y2="668.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="519.5" x2="560.5" y1="668.0859" y2="668.0859"/><polygon fill="#A80036" points="529.5,664.0859,519.5,668.0859,529.5,672.0859,525.5,668.0859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="525.5" y="650.02">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="547.5" y="650.02">Execute pipeline</text><polygon fill="#A80036" points="1110,708.3516,1120,712.3516,1110,716.3516,1114,712.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="658.5" x2="1116" y1="712.3516" y2="712.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="665.5" y="699.7192">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="687.5" y="692.1528">Fire MergeRequestEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="691.5" y="707.2856">with state "merged" and action "merge" for MR #2</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1179" y1="721.3516" y2="721.3516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="18" y="731.562">[MR #2 cannot be merged case]</text><path d="M717.5,742.1563 L794.5,742.1563 L794.5,749.1563 L784.5,759.1563 L717.5,759.1563 L717.5,742.1563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="451.5" x="717.5" y="742.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="732.5" y="755.2231">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="341" x="809.5" y="754.3667">[until MR merger is different than the ucascade user]</text><polygon fill="#A80036" points="797,776.4219,787,780.4219,797,784.4219,793,780.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="780.4219" y2="780.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="803" y="775.356">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="825" y="775.356">Get preceding MR</text><polygon fill="#A80036" points="1110,805.5547,1120,809.5547,1110,813.5547,1114,809.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="786" x2="1116" y1="809.5547" y2="809.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="793" y="804.4888">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="19" x="815" y="804.4888">MR</text><polygon fill="#A80036" points="797,856.8203,787,860.8203,797,864.8203,793,860.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="791" x2="1121" y1="860.8203" y2="860.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="803" y="848.188">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="825" y="840.6216">Assign current MR to the MR merger found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="290" x="825" y="855.7544">(the user responsible for the cascade: UserA)</text><polygon fill="#A80036" points="57.5,885.9531,47.5,889.9531,57.5,893.9531,53.5,889.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="517.5" y1="889.9531" y2="889.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="63.5" y="884.8872">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="426" x="85.5" y="884.8872">Notification requiring manual intervention due to conflicts in MR #2</text><!--MD5=[bfed5e7880de1ae138987ee5573532d6]
@startuml high-level-workflow
autonumber

actor       UserA          as user
box "Gitlab" #LightYellow
boundary    Gitlab_UI       as ui
entity      Gitlab_Backend  as gitlab
control     Gitlab_Webhook  as webhook
control     Gitlab_REST_API as restAPI
end box
box "Ucascade" #LightBlue
entity      Ucascade        as ucascade
end box

user->ui: Merge #MR1 \n E.g., feature/1.3.x/my_feature -> main/1.3.x
user<- -ui: Ok
gitlab->gitlab: Execute pipeline
webhook->ucascade: Fire MergeRequestEvent\n with state "merged" and action "merge" for MR #1
ucascade->restAPI: Compare refs - nothing to do if no diff\n E.g., between commit e819d39 and develop
ucascade->restAPI: Create Branch\n E.g., mr1_main/1.3.x from e819d39
ucascade->restAPI: Create MR #2\n E.g., mr1_main/1.3.x -> develop
alt apiTokenApprover is set case
    ucascade->restAPI: Approve MR #2
end
loop 20 times or until ready
    ucascade->restAPI: Check creation status of MR #2
    ucascade<- -restAPI: Ready / Not ready
    ucascade->ucascade: Sleep 100ms
end
alt MR #2 can be merged case
    ucascade->restAPI: Accept MR #2
    gitlab->gitlab: Execute pipeline
    webhook->ucascade: Fire MergeRequestEvent\n with state "merged" and action "merge" for MR #2
else #Pink MR #2 cannot be merged case
    loop until MR merger is different than the ucascade user
        ucascade->restAPI: Get preceding MR
        restAPI- ->ucascade: MR
    end
    ucascade->restAPI: Assign current MR to the MR merger found\n(the user responsible for the cascade: UserA)
    user<-gitlab: Notification requiring manual intervention due to conflicts in MR #2
end
@enduml

PlantUML version 1.2020.06(Sun Apr 05 12:38:32 GMT 2020)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.18+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>